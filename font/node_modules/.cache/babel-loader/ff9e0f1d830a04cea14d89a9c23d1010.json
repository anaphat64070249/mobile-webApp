{"remainingRequest":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\src\\views\\blogs\\DetailBlog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\src\\views\\blogs\\DetailBlog.vue","mtime":1682246777925},{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682246830301},{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1682246833604},{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682246830301},{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1682246834747}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gIkAvcGx1Z2lucy9heGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJ1c2VyIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJsb2c6IHt9LAogICAgICBjb21tZW50czogW10sCiAgICAgIGltYWdlczogW10sCiAgICAgIGVycm9yOiBudWxsLAogICAgICBjb21tVHh0OiAiIiwKICAgICAgZWRpdFRvZ2dsZTogLTEsCiAgICAgIGVkaXRDb21tZW50TWVzc2FnZTogIiIKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRCbG9nRGV0YWlsKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRCbG9nRGV0YWlsOiBmdW5jdGlvbiBnZXRCbG9nRGV0YWlsKGJsb2dJZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYmxvZ3MvIi5jb25jYXQoYmxvZ0lkKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5ibG9nID0gcmVzcG9uc2UuZGF0YS5ibG9nOwogICAgICAgIF90aGlzLmltYWdlcyA9IHJlc3BvbnNlLmRhdGEuaW1hZ2VzOwogICAgICAgIF90aGlzLmNvbW1lbnRzID0gcmVzcG9uc2UuZGF0YS5jb21tZW50czsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuZXJyb3IgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZENvbW1lbnQ6IGZ1bmN0aW9uIGFkZENvbW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwLyIuY29uY2F0KHRoaXMuYmxvZy5pZCwgIi9jb21tZW50cyIpLCB7CiAgICAgICAgY29tbWVudDogdGhpcy5jb21tVHh0CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmNvbW1UeHQgPSAiIjsKCiAgICAgICAgX3RoaXMyLmNvbW1lbnRzLnB1c2gocmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi5lcnJvciA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZUVkaXRDb21tZW50OiBmdW5jdGlvbiBzYXZlRWRpdENvbW1lbnQoY29tbWVudElkLCBpbmRleCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGF4aW9zLnB1dCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2NvbW1lbnRzLyIuY29uY2F0KGNvbW1lbnRJZCksIHsKICAgICAgICBjb21tZW50OiB0aGlzLmVkaXRDb21tZW50TWVzc2FnZSwKICAgICAgICBpZDogdGhpcy5jb21tZW50c1tpbmRleF0uaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuY29tbWVudHNbaW5kZXhdLmNvbW1lbnQgPSByZXNwb25zZS5kYXRhLmNvbW1lbnQ7CiAgICAgICAgX3RoaXMzLmVkaXRUb2dnbGUgPSAtMTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMzLmVycm9yID0gZXJyb3IubWVzc2FnZTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQ29tbWVudDogZnVuY3Rpb24gZGVsZXRlQ29tbWVudChjb21tZW50SWQsIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHJlc3VsdCA9IGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBjb21tZW50Iik7CgogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgYXhpb3MuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvY29tbWVudHMvIi5jb25jYXQoY29tbWVudElkKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgICBfdGhpczQuY29tbWVudHMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIF90aGlzNC5lcnJvciA9IGVycm9yLm1lc3NhZ2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRMaWtlQ29tbWVudDogZnVuY3Rpb24gYWRkTGlrZUNvbW1lbnQoY29tbWVudElkKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgYXhpb3MucHV0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvY29tbWVudHMvYWRkbGlrZS8iLmNvbmNhdChjb21tZW50SWQpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBzZWxlY3RlZENvbW1lbnQgPSBfdGhpczUuY29tbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5pZCA9PT0gY29tbWVudElkOwogICAgICAgIH0pWzBdOwoKICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3RlZENvbW1lbnQpOwogICAgICAgIHNlbGVjdGVkQ29tbWVudC5saWtlID0gcmVzcG9uc2UuZGF0YS5saWtlOwogICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkQ29tbWVudCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBfdGhpczUuZXJyb3IgPSBlcnJvci5tZXNzYWdlOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVCbG9nOiBmdW5jdGlvbiBkZWxldGVCbG9nKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciByZXN1bHQgPSBjb25maXJtKCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlICciLmNvbmNhdCh0aGlzLmJsb2cudGl0bGUsICInIikpOwoKICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgIGF4aW9zLmRlbGV0ZSgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2Jsb2dzLyIuY29uY2F0KHRoaXMuYmxvZy5pZCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBhbGVydChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaXNteWJsb2c6IGZ1bmN0aW9uIGlzbXlibG9nKCkgewogICAgICBpZiAoIXRoaXMudXNlcikgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdGhpcy5ibG9nLmNyZWF0ZV9ieV9pZCA9PT0gdGhpcy51c2VyLmlkOwogICAgfSwKICAgIGltX2FkbWluOiBmdW5jdGlvbiBpbV9hZG1pbigpIHsKICAgICAgaWYgKCF0aGlzLnVzZXIpIHJldHVybiBmYWxzZTsKCiAgICAgIGlmICh0aGlzLnVzZXIucm9sZSA9PT0gJ2FkbWluJykgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["DetailBlog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container is-widescreen\">\n    <section class=\"section\" v-if=\"error\">\n      <div class=\"container is-widescreen\">\n        <div class=\"notification is-danger\">{{ error }}</div>\n      </div>\n    </section>\n    <section class=\"hero\">\n      <div class=\"hero-body\">\n        <p class=\"title\">{{ blog.title }}</p>\n      </div>\n    </section>\n    <section class=\"section\">\n      <div class=\"content\">\n        <div class=\"card has-background-light\">\n          <div class=\"card-image pt-5\">\n            <div class=\"columns\">\n              <div v-for=\"image in images\" :key=\"image.id\" class=\"column\">\n                <figure class=\"image\">\n                  <img\n                    :src=\"'http://localhost:3000/'+image.file_path\"\n                    alt=\"Placeholder image\"\n                    style=\"height: 500px; object-fit: cover;\"\n                  />\n                </figure>\n              </div>\n            </div>\n          </div>\n          <div class=\"card-content\">\n            <div class=\"content\">{{ blog.content }}</div>\n            <div class=\"container pb-3\">\n              <p class=\"subtitle\">Comments</p>\n              <div class=\"columns\">\n                <div class=\"column is-8\">\n                  <input type=\"text\" class=\"input\" v-model=\"commTxt\" placeholder=\"Add new comment\" />\n                </div>\n                <div class=\"column is-4\">\n                  <button @click=\"addComment\" class=\"button\">Add comment</button>\n                </div>\n              </div>\n            </div>\n            <div v-for=\"(comment,index) in comments\" :key=\"comment.id\" class=\"box\">\n              <article class=\"media\">\n                <div class=\"media-left\">\n                  <figure class=\"image is-64x64\">\n                    <img src=\"https://bulma.io/images/placeholders/128x128.png\" alt=\"Image\" />\n                  </figure>\n                </div>\n                <div v-if=\"index===editToggle\" class=\"media-content\">\n                  <div class=\"content\">\n                    <input v-model=\"editCommentMessage\" class=\"input\" type=\"text\" />\n                    <p class=\"is-size-7\">{{ comment.comment_date }}</p>\n                  </div>\n                  <nav class=\"level\">\n                    <div class=\"level-left\">\n                      <a class=\"level-item\" aria-label=\"like\">\n                        <span class=\"icon is-small pr-3\">\n                          <i class=\"fas fa-heart\" aria-hidden=\"true\"></i>\n                        </span>\n                        Like (0)\n                      </a>\n                    </div>\n                    <div class=\"level-right\">\n                      <div class=\"level-item\">\n                        <button\n                          @click=\"saveEditComment(comment.id,index)\"\n                          class=\"button is-primary\"\n                        >\n                          <span>Save Comment</span>\n                          <span class=\"icon is-small\">\n                            <i class=\"fas fa-edit\"></i>\n                          </span>\n                        </button>\n                      </div>\n                      <div class=\"level-item\">\n                        <button @click=\"editToggle = -1\" class=\"button is-info is-outlined\">\n                          <span>Cancel</span>\n                          <span class=\"icon is-small\">\n                            <i class=\"fas fa-times\"></i>\n                          </span>\n                        </button>\n                      </div>\n                    </div>\n                  </nav>\n                </div>\n                <div v-else class=\"media-content\">\n                  <div class=\"content\">\n                    <p>{{ comment.comment }}</p>\n                    <p class=\"is-size-7\">{{ comment.comment_date }}</p>\n                  </div>\n                  <nav class=\"level\">\n                    <div class=\"level-left\">\n                      <a @click=\"addLikeComment(comment.id)\" class=\"level-item\" aria-label=\"like\">\n                        <span class=\"icon is-small pr-3\">\n                          <i class=\"fas fa-heart\" aria-hidden=\"true\"></i>\n                        </span>\n                        Like ({{comment.like}})\n                      </a>\n                    </div>\n                    <div class=\"level-right\" v-if=\"!user ? false: (user.id == comment.comment_by_id||im_admin())\">\n                      <div class=\"level-item\">\n                        <button\n                          @click=\"editToggle = index; editCommentMessage = comment.comment\"\n                          class=\"button is-warning\"\n                        >\n                          <span>Edit</span>\n                          <span class=\"icon is-small\">\n                            <i class=\"fas fa-edit\"></i>\n                          </span>\n                        </button>\n                      </div>\n                      <div class=\"level-item\">\n                        <button\n                          @click=\"deleteComment(comment.id, index)\"\n                          class=\"button is-danger is-outlined\"\n                        >\n                          <span>Delete</span>\n                          <span class=\"icon is-small\">\n                            <i class=\"fas fa-times\"></i>\n                          </span>\n                        </button>\n                      </div>\n                    </div>\n                  </nav>\n                </div>\n              </article>\n            </div>\n          </div>\n          <footer class=\"card-footer\">\n            <router-link class=\"card-footer-item\" to=\"/\">To Home Page</router-link>\n            <a class=\"card-footer-item\" @click=\"deleteBlog\" v-if=\"ismyblog()||im_admin()\">\n              <span>Delete this blog</span>\n            </a>\n          </footer>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport axios from \"@/plugins/axios\";\n\nexport default {\n  props: [\"user\"],\n  data() {\n    return {\n      blog: {},\n      comments: [],\n      images: [],\n      error: null,\n      commTxt: \"\",\n      editToggle: -1,\n      editCommentMessage: \"\",\n    };\n  },\n  mounted() {\n    this.getBlogDetail(this.$route.params.id);\n  },\n  methods: {\n    getBlogDetail(blogId) {\n      axios\n        .get(`http://localhost:3000/blogs/${blogId}`)\n        .then((response) => {\n          this.blog = response.data.blog;\n          this.images = response.data.images;\n          this.comments = response.data.comments;\n        })\n        .catch((error) => {\n          this.error = error.response.data.message;\n        });\n    },\n    addComment() {\n      axios\n        .post(`http://localhost:3000/${this.blog.id}/comments`, {\n          comment: this.commTxt,\n        })\n        .then((response) => {\n          this.commTxt = \"\";\n          this.comments.push(response.data);\n        })\n        .catch((error) => {\n          this.error = error.response.data.message;\n        });\n    },\n    saveEditComment(commentId, index) {\n      axios\n        .put(`http://localhost:3000/comments/${commentId}`, {\n          comment: this.editCommentMessage,\n          id: this.comments[index].id\n        })\n        .then((response) => {\n          this.comments[index].comment = response.data.comment;\n          this.editToggle = -1;\n        })\n        .catch((error) => {\n          this.error = error.message;\n        });\n    },\n    deleteComment(commentId, index) {\n      const result = confirm(`Are you sure you want to delete this comment`);\n      if (result) {\n        axios\n          .delete(`http://localhost:3000/comments/${commentId}`)\n          .then((response) => {\n            console.log(response);\n            this.comments.splice(index, 1);\n          })\n          .catch((error) => {\n            this.error = error.message;\n          });\n      }\n    },\n    addLikeComment(commentId) {\n      axios\n        .put(`http://localhost:3000/comments/addlike/${commentId}`)\n        .then((response) => {\n          let selectedComment = this.comments.filter(\n            (e) => e.id === commentId\n          )[0];\n          console.log(selectedComment);\n          selectedComment.like = response.data.like;\n          console.log(selectedComment);\n        })\n        .catch((error) => (this.error = error.message));\n    },\n    deleteBlog() {\n      const result = confirm(\n        `Are you sure you want to delete \\'${this.blog.title}\\'`\n      );\n      if (result) {\n        axios\n          .delete(`http://localhost:3000/blogs/${this.blog.id}`)\n          .then((response) => {\n            this.$router.push(\"/\");\n          })\n          .catch((error) => {\n            alert(error.response.data.message);\n          });\n      }\n    },\n    ismyblog(){\n      if (!this.user) return false;\n      return this.blog.create_by_id === this.user.id;\n    },\n    im_admin(){\n      if (!this.user) return false;\n      if (this.user.role === 'admin'){\n        return true;\n      }else{\n        return false;\n      }\n    }\n  },\n};\n</script>"],"sourceRoot":"src/views/blogs"}]}