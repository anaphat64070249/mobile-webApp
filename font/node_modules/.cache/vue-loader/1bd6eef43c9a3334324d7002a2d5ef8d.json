{"remainingRequest":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\src\\App.vue","mtime":1682246777653},{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682246830301},{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1682246833604},{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682246830301},{"path":"C:\\ปี 2เทอม 2\\web_pro\\work10\\WEEK12-TUTORIAL-EXERCISE-master Don\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1682246834747}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJAL3BsdWdpbnMvYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiBudWxsLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLm9uQXV0aENoYW5nZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgb25BdXRoQ2hhbmdlKCkgewogICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICBpZiAodG9rZW4pIHsKICAgICAgICB0aGlzLmdldFVzZXIoKTsKICAgICAgfQogICAgfSwKICAgIGdldFVzZXIoKSB7CiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICAgIGF4aW9zLmdldCgiL3VzZXIvbWUiKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLnVzZXIgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nT3V0KCl7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["\n<template>\n  <div id=\"app\">\n    <!-- nav bar -->\n    <nav class=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n      <div class=\"navbar-brand\">\n        <router-link to=\"/\" class=\"navbar-item is-size-4\">\n          YouBlog\n        </router-link>\n\n        <a\n          role=\"button\"\n          class=\"navbar-burger\"\n          aria-label=\"menu\"\n          aria-expanded=\"false\"\n          data-target=\"navbarBasicExample\"\n        >\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n        </a>\n      </div>\n\n      <div class=\"navbar-menu\">\n        <div class=\"navbar-end\">\n          <div v-if=\"user\" class=\"navbar-item\">\n            <router-link to=\"/blogs/create\" class=\"button is-primary\">\n              <strong>New Blog</strong>\n            </router-link>\n          </div>\n          <div v-if=\"user\" class=\"navbar-item has-dropdown is-hoverable\">\n            <a class=\"navbar-link\" >\n              <figure class=\"image is-24x24 my-auto\">\n                <img\n                  class=\"is-rounded\"\n                  src=\"https://bulma.io/images/placeholders/128x128.png\"\n                />\n              </figure>\n              <span class=\"pl-3\"\n                >{{ user.first_name }} {{ user.last_name }}</span\n              >\n            </a>\n            <div class=\"navbar-dropdown\">\n              <a class=\"navbar-item\">Profile</a>\n              <a class=\"navbar-item\" @click=\"logOut()\" href=\"/\">Log out</a>\n            </div>\n          </div>\n          <div v-if=\"!user\" class=\"navbar-item\">\n            <router-link to=\"/user/login\">\n              <strong>Login</strong>\n            </router-link>\n          </div>\n          <div v-if=\"!user\" class=\"navbar-item\">\n            <router-link to=\"/user/signup\">\n              <strong>Signup</strong>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </nav>\n    <router-view :key=\"$route.fullPath\" @auth-change=\"onAuthChange\" :user=\"user\" />\n  </div>\n\n</template>\n\n <script>\nimport axios from \"@/plugins/axios\";\n\nexport default {\n  data() {\n    return {\n      user: null,\n    };\n  },\n  mounted() {\n    this.onAuthChange();\n  },\n  methods: {\n    onAuthChange() {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        this.getUser();\n      }\n    },\n    getUser() {\n      const token = localStorage.getItem(\"token\");\n      axios.get(\"/user/me\").then((res) => {\n        this.user = res.data;\n      });\n    },\n    logOut(){\n      localStorage.removeItem('token');\n    }\n  },\n};\n</script>"]}]}